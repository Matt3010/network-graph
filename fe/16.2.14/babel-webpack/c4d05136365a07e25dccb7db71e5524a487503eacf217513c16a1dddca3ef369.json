{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl } from \"@angular/forms\";\nimport { debounceTime } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/note.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction SearchbarComponent_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 6);\n    i0.ɵɵlistener(\"click\", function SearchbarComponent_img_4_Template_img_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.resetDeleteState());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchbarComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"span\", 8);\n    i0.ɵɵtext(2, \"Not items found for this search\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let SearchbarComponent = /*#__PURE__*/(() => {\n  class SearchbarComponent {\n    constructor(noteService) {\n      this.noteService = noteService;\n      this.query = new FormControl('');\n      this.shouldShowDelete = false;\n      this.emitQuery = new EventEmitter();\n    }\n    ngOnInit() {\n      const last = localStorage.getItem('network-last-query-search');\n      if (last) {\n        this.query.setValue(last);\n        this.shouldShowDelete = true;\n      } else {\n        this.query.setValue('');\n        this.shouldShowDelete = false;\n      }\n      this.query.valueChanges.pipe(debounceTime(300)).subscribe(res => {\n        localStorage.setItem('network-last-query-search', res);\n        this.shouldShowDelete = true;\n        this.emit(res);\n        if (res.length === 0) {\n          this.shouldShowDelete = false;\n        }\n      });\n    }\n    emit(to_emit) {\n      this.emitQuery.emit(to_emit);\n    }\n    resetDeleteState() {\n      this.query.setValue('');\n      this.emit('');\n      this.shouldShowDelete = false;\n    }\n    static #_ = this.ɵfac = function SearchbarComponent_Factory(t) {\n      return new (t || SearchbarComponent)(i0.ɵɵdirectiveInject(i1.NoteService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SearchbarComponent,\n      selectors: [[\"app-searchbar\"]],\n      outputs: {\n        emitQuery: \"emitQuery\"\n      },\n      decls: 7,\n      vars: 5,\n      consts: [[1, \"row\", \"searchbar\", \"overflow-hidden\", \"position-relative\", \"align-items-center\"], [1, \"col\"], [\"placeholder\", \"Start your search...\", \"type\", \"text\", 1, \"w-100\", \"h-100\", \"input-search\", 3, \"formControl\"], [1, \"accessories\", \"w-auto\", \"d-flex\", 2, \"gap\", \"5px\"], [\"class\", \"delete\", \"width\", \"20px\", \"src\", \"assets/network_assets/close.svg\", \"alt\", \"\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"row not-found position-relative justify-content-center\", 4, \"ngIf\"], [\"width\", \"20px\", \"src\", \"assets/network_assets/close.svg\", \"alt\", \"\", 1, \"delete\", 3, \"click\"], [1, \"row\", \"not-found\", \"position-relative\", \"justify-content-center\"], [1, \"col-auto\"]],\n      template: function SearchbarComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n          i0.ɵɵelement(2, \"input\", 2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 3);\n          i0.ɵɵtemplate(4, SearchbarComponent_img_4_Template, 1, 0, \"img\", 4);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(5, SearchbarComponent_div_5_Template, 3, 0, \"div\", 5);\n          i0.ɵɵpipe(6, \"async\");\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"formControl\", ctx.query);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.shouldShowDelete);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(6, 3, ctx.noteService.notesSearchNotFound$));\n        }\n      },\n      dependencies: [i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlDirective, i2.AsyncPipe],\n      styles: [\".searchbar[_ngcontent-%COMP%]{background-color:#eee;height:40px;border-radius:100px;border:solid #dcdcdc .5px}.input-search[_ngcontent-%COMP%]{background-color:transparent;border:0;padding-left:15px;color:#4b4b4b}.input-search[_ngcontent-%COMP%]:focus{outline-width:0}.accessories[_ngcontent-%COMP%]{position:absolute;right:0;padding-right:20px}.delete[_ngcontent-%COMP%]{cursor:pointer}.not-found[_ngcontent-%COMP%]{top:5px;z-index:100;font-size:14px}\"]\n    });\n  }\n  return SearchbarComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}